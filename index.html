<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zest All-In-One Downloader | Pro</title>
    <style>
        :root { --yt: #ff0000; --fb: #1877f2; --dark: #0b0f19; --card: #161b2c; --accent: #00ff88; }
        body { background: var(--dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 15px; text-align: center; }
        
        header { padding: 30px 10px; }
        .logo { font-size: 28px; font-weight: 800; color: var(--accent); letter-spacing: -1px; }
        
        .main-card { background: var(--card); padding: 30px 20px; border-radius: 25px; border: 1px solid #333; max-width: 480px; margin: 0 auto; box-shadow: 0 20px 50px rgba(0,0,0,0.7); }
        
        .tab-box { display: flex; background: #000; padding: 6px; border-radius: 16px; margin-bottom: 25px; border: 1px solid #222; }
        .tab { flex: 1; padding: 14px; border-radius: 12px; border: none; cursor: pointer; font-weight: bold; color: #666; transition: 0.4s; background: transparent; }
        .tab.active-yt { background: var(--yt); color: white; }
        .tab.active-fb { background: var(--fb); color: white; }

        input { width: 90%; padding: 18px; border-radius: 12px; border: 1px solid #444; background: #000; color: white; font-size: 16px; outline: none; margin-bottom: 15px; }

        /* PROGRESS BAR STYLING */
        #progress-container { width: 95%; height: 8px; background: #111; border-radius: 10px; margin: 10px auto 20px; display: none; overflow: hidden; border: 1px solid #333; }
        #progress-bar { width: 0%; height: 100%; background: var(--accent); transition: width 0.4s ease; box-shadow: 0 0 10px var(--accent); }
        #status-txt { font-size: 12px; color: var(--accent); margin-bottom: 10px; display: none; font-weight: bold; }

        .dl-button { width: 95%; padding: 20px; border-radius: 12px; border: none; font-size: 16px; font-weight: 800; cursor: pointer; transition: 0.3s; }
        .yt-btn { background: var(--yt); color: white; }
        .fb-btn { background: var(--fb); color: white; }

        .promo-box { margin-top: 30px; padding: 20px; background: rgba(0,255,136,0.05); border: 1px dashed var(--accent); border-radius: 15px; }
        .promo-box a { color: var(--accent); text-decoration: none; font-weight: bold; font-size: 14px; }

        footer { margin-top: 60px; padding-bottom: 40px; opacity: 0.15; font-size: 10px; }
    </style>
</head>
<body>

    <header>
        <div class="logo">ZEST ALL-IN-ONE</div>
        <div style="color: #888; font-size: 13px;">Premium Video Downloader Engine</div>
    </header>

    <div class="main-card">
        <div class="tab-box">
            <button id="ytTab" class="tab active-yt" onclick="setMode('yt')">YouTube</button>
            <button id="fbTab" class="tab" onclick="setMode('fb')">Facebook</button>
        </div>

        <input type="text" id="urlInput" placeholder="Paste YouTube link here...">
        
        <div id="status-txt">READY TO DOWNLOAD</div>
        <div id="progress-container"><div id="progress-bar"></div></div>

        <button id="dlBtn" class="dl-button yt-btn" onclick="processDownload()">
            START DOWNLOAD
        </button>
    </div>

    <div class="promo-box">
        <a href="https://zestwealthdaily.github.io/Store/">ðŸ›’ BACK TO ZEST STORE (20% OFF) â†’</a>
    </div>

    <footer>
        Â© 2025 ZEST TECH GLOBAL â€¢ +2347032511658
        <br><br>
        <img src="https://hitwebcounter.com/counter/counter.php?page=ZEST_PRO_DL_V2&style=0005&nbdigits=5&type=page&initCount=0" border="0" />
    </footer>

    <script>
        let mode = 'yt';
        const bar = document.getElementById('progress-bar');
        const container = document.getElementById('progress-container');
        const status = document.getElementById('status-txt');
        const btn = document.getElementById('dlBtn');

        function setMode(m) {
            mode = m;
            btn.className = mode === 'yt' ? "dl-button yt-btn" : "dl-button fb-btn";
            document.getElementById('ytTab').className = mode === 'yt' ? "tab active-yt" : "tab";
            document.getElementById('fbTab').className = mode === 'fb' ? "tab active-fb" : "tab";
            document.getElementById('urlInput').placeholder = mode === 'yt' ? "Paste YouTube link here..." : "Paste Facebook link here...";
        }

        async function processDownload() {
            const url = document.getElementById('urlInput').value;
            if(!url) { alert("Chale, paste a link first!"); return; }

            // RESET & SHOW PROGRESS
            btn.disabled = true;
            container.style.display = "block";
            status.style.display = "block";
            status.innerText = "CONNECTING TO ZEST API...";
            bar.style.width = "20%";

            try {
                // FAKE PROCESSING FEEL (For better UX)
                setTimeout(() => { bar.style.width = "50%"; status.innerText = "CAPTURING VIDEO DATA..."; }, 800);
                
                // ACTUAL API ATTEMPT
                const response = await fetch(`https://api.vyt-loader.xyz/info?url=${encodeURIComponent(url)}`);
                const data = await response.json();

                if (data && data.download_url) {
                    bar.style.width = "100%";
                    status.innerText = "âœ… DOWNLOAD STARTING...";
                    window.location.href = data.download_url;
                } else {
                    throw new Error("API_LIMIT");
                }
            } catch (e) {
                // FAIL-SAFE REDIRECT
                bar.style.background = "orange";
                bar.style.width = "85%";
                status.innerText = "ðŸš€ USING SECONDARY ENGINE...";
                status.style.color = "orange";

                setTimeout(() => {
                    if(mode === 'yt') {
                        window.location.href = url.replace("youtube.com", "ssyoutube.com").replace("youtu.be/", "ssyoutube.com/watch?v=");
                    } else {
                        window.location.href = "https://fdown.net/download.php?url=" + encodeURIComponent(url);
                    }
                }, 1500);
            }
        }
    </script>
</body>
</html>
